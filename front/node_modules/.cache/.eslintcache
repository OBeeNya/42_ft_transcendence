[{"/home/benjamin/Documents/42/42_ft_transcendence/front/src/index.tsx":"1","/home/benjamin/Documents/42/42_ft_transcendence/front/src/reportWebVitals.ts":"2","/home/benjamin/Documents/42/42_ft_transcendence/front/src/App.tsx":"3","/home/benjamin/Documents/42/42_ft_transcendence/front/src/components/protectedRoutes.tsx":"4","/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/SignIn/SigninPage.tsx":"5","/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/Auth/AuthPage.tsx":"6","/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/SignUp/SignupPage.tsx":"7","/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/HomePage/HomePage.tsx":"8","/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/EditProfile/EditProfilePage.tsx":"9","/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/CallBack42/Callback42.tsx":"10","/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/Profile/ProfilePage.tsx":"11","/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/Pong/PongPage.tsx":"12","/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/Chat/ChatPage.tsx":"13","/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/Online/OnlinePage.tsx":"14","/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/Tfa/TfaPage.tsx":"15","/home/benjamin/Documents/42/42_ft_transcendence/front/src/components/content.tsx":"16","/home/benjamin/Documents/42/42_ft_transcendence/front/src/components/header.tsx":"17","/home/benjamin/Documents/42/42_ft_transcendence/front/src/services/axios/axios.tsx":"18"},{"size":441,"mtime":1684935330416,"results":"19","hashOfConfig":"20"},{"size":425,"mtime":1684935330416,"results":"21","hashOfConfig":"20"},{"size":1884,"mtime":1684935830796,"results":"22","hashOfConfig":"20"},{"size":1247,"mtime":1684935330416,"results":"23","hashOfConfig":"20"},{"size":2206,"mtime":1684939878317,"results":"24","hashOfConfig":"20"},{"size":690,"mtime":1684935330416,"results":"25","hashOfConfig":"20"},{"size":2698,"mtime":1684936504721,"results":"26","hashOfConfig":"20"},{"size":1376,"mtime":1684935330416,"results":"27","hashOfConfig":"20"},{"size":4946,"mtime":1684935610889,"results":"28","hashOfConfig":"20"},{"size":1159,"mtime":1684937184590,"results":"29","hashOfConfig":"20"},{"size":1753,"mtime":1684935330416,"results":"30","hashOfConfig":"20"},{"size":740,"mtime":1684935330416,"results":"31","hashOfConfig":"20"},{"size":347,"mtime":1684935330416,"results":"32","hashOfConfig":"20"},{"size":1587,"mtime":1684935330416,"results":"33","hashOfConfig":"20"},{"size":461,"mtime":1684940857083,"results":"34","hashOfConfig":"20"},{"size":184,"mtime":1684935330416,"results":"35","hashOfConfig":"20"},{"size":1624,"mtime":1684935330416,"results":"36","hashOfConfig":"20"},{"size":261,"mtime":1684935330416,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},"1aegqe2",{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"41"},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"41"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},"/home/benjamin/Documents/42/42_ft_transcendence/front/src/index.tsx",[],[],[],"/home/benjamin/Documents/42/42_ft_transcendence/front/src/reportWebVitals.ts",[],[],"/home/benjamin/Documents/42/42_ft_transcendence/front/src/App.tsx",[],[],"/home/benjamin/Documents/42/42_ft_transcendence/front/src/components/protectedRoutes.tsx",[],[],"/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/SignIn/SigninPage.tsx",[],[],"/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/Auth/AuthPage.tsx",[],[],"/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/SignUp/SignupPage.tsx",[],[],"/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/HomePage/HomePage.tsx",[],[],"/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/EditProfile/EditProfilePage.tsx",["95"],[],"import Content from \"../../components/content\"\nimport Header from \"../../components/header\"\nimport { useNavigate } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { ChangeEvent, useEffect, useState } from \"react\";\nimport { ax } from '../../services/axios/axios'\nimport { UserInfos } from \"../../services/interfaces/userInfos.interface\";\n// import { GetUserInfos } from \"../../services/axios/getUsers\";\nimport \"./style/EditProfilePage.css\";\n\n\nconst EditProfilePage = () => {\n\tconst navigate = useNavigate();\n\tconst [userInfos, setUserInfos] = useState<UserInfos | null>();\n\t// const [nameInput, setName] = useState('');\n\t// const [emailInput, setEmail] = useState('');\n\tconst token = localStorage.getItem(\"token\");\n\tconst { register, handleSubmit, reset } = useForm({defaultValues: {\tname: userInfos?.name, \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temail: userInfos?.email\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}});\n\t\n\tuseEffect(() => {\n\t\tconst getUsers = async () => {\n\t\t\ttry {\n\t\t\t\tconst response = await ax.get(\"http://localhost:8080/users/me\", {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tsetUserInfos(response.data);\n\t\t\t\treset(response.data);\n\t\t\t\t// console.log(\"DATA\", response.data);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to fetch users.\");\n\t\t\t}\n\t\t};\n\t\tgetUsers();\n\t}, [token]);\n\n\tconst handleChanges = async (userInput: any) => {\n\t\tif (userInput.name === '' && userInput.email === '')\n\t\t\treturn ;\n\t\ttry {\n\t\t\tif (userInput.name !== '') {\n\t\t\t\tawait ax.patch('users', {\n\t\t\t\t\tname: userInput.name,\n\t\t\t\t}, {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${token}`\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst expression: RegExp = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i;\n\t\t\tconst messageEmail = document.getElementById(\"messageEmail\");\n\t\t\tif (userInput.email !== '') {\n\t\t\t\tif (!expression.test(userInput.email)) {\n\t\t\t\t\tif (messageEmail)\n\t\t\t\t\t\tmessageEmail.textContent = \"Please enter a valid email\";\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tawait ax.patch('users', {\n\t\t\t\t\t\temail: userInput.email,\n\t\t\t\t\t}, {\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAuthorization: `Bearer ${token}`\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tif (messageEmail)\n\t\t\t\t\t\tmessageEmail.textContent = \"\";\n\t\t\t\t}\t\n\t\t\t}\n\t\t\tconst message = document.getElementById(\"message\");\n\t\t\tif (message)\n\t\t\t\tmessage.textContent = \"Profile updated\";\n\t\t\tnavigate('/profile');\n\t\t}\n\t\tcatch {\n\t\t\tconst message = document.getElementById(\"message\");\n\t\t\tif (message)\n\t\t\t\tmessage.textContent = \"Name already taken\";\n\t\t}\n\t};\n\n\tconst handleAvatarChange = async (event: ChangeEvent<HTMLInputElement>) => {\n\t\tif (!event.target.files)\n\t\t\treturn ;\n\t\tconst file = event.target.files[0];\n\t\tconst form = new FormData();\n\t\tform.append(\"file\", file, file.name);\n\t\ttry {\n\t\t\tawait ax.post(\"users/avatar\", form, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tcatch {\n\t\t\tconst messageAvatar = document.getElementById(\"messageAvatar\");\n\t\t\tif (messageAvatar)\n\t\t\t\tmessageAvatar.textContent = \"Could not upload avatar, please make sure an .jpg, .jpeg or .png file was used\";\n\t\t}\n\t}\n\n\tconst handleTfaChange = async () => {\n\t\ttry {\n\t\t\tawait ax.patch('users', {\n\t\t\t\ttfa: !userInfos?.tfa,\n\t\t\t}, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t\tcatch {\n\t\t\tconsole.log(\"could not update tfa preferences\")\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Header />\n\t\t\t<Content>\n\t\t\t\t<div className=\"editUserProfileContainer\">\n\t\t\t\t\t<h1>User profile</h1>\n\t\t\t\t\t\t<h2>Verify your information and update any available field as necessary</h2>\n\t\t\t\t\t<form className=\"editUserInformations\" onSubmit={handleSubmit(handleChanges)}>\n\t\t\t\t\t\t<div className=\"avatarChange\">\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName=\"editUserAvatar\"\n\t\t\t\t\t\t\t\tsrc={'/avatar/' + userInfos?.id + '.png'}\n\t\t\t\t\t\t\t\talt=\"avatar\"\n\t\t\t\t\t\t\t\tonError={(event) => {\n\t\t\t\t\t\t\t\t\tconst target = event.target as HTMLImageElement;\n\t\t\t\t\t\t\t\t\ttarget.src = '/avatar/auto.png';\n\t\t\t\t\t\t\t\t  }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"avatarChangeButton\">\n\t\t\t\t\t\t\t\t<label className=\"editUserInformationKey\">Upload a new avatar:</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\t\t\tonChange={handleAvatarChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div id=\"messageAvatar\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<label className=\"editUserInformationKey\">Enable two-factor authentication:</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tchecked={userInfos?.tfa}\n\t\t\t\t\t\t\tonChange={handleTfaChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label className=\"editUserInformationKey\">Change your name:</label>\n\t\t\t\t\t\t<input className=\"editUserInformationKey\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t{...register(\"name\")}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label className=\"editUserInformationKey\">Change your email:</label>\n\t\t\t\t\t\t<input  className=\"editUserInformationKey\"\n\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t{...register(\"email\")}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t<p id=\"messageEmail\"> </p>\n\t\t\t\t\t\t<button type=\"submit\" value=\"submit\" >Submit</button>\n\t\t\t\t\t\t<div id=\"message\"></div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</Content>\n\t\t</div>\n\t);\n};\n\nexport default EditProfilePage;\n","/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/CallBack42/Callback42.tsx",["96"],[],"import { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ax } from '../../services/axios/axios';\n\nconst Callback42 = () => {\n\n    const navigate = useNavigate();\n\tconst token = localStorage.getItem(\"token\");\n\n    const redirectHome = async() => {\n        const url = window.location.href as string;\n        const tokenSplit: string = url.split(\"=\")[1];\n        localStorage.setItem(\"userStatus\", \"connected\");\n        localStorage.setItem(\"isConnected\", \"yes\");\n        localStorage.setItem(\"token\", tokenSplit);\n        try {\n            await ax.patch(\"users\", {\n                connected: true,\n            }, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`\n\t\t\t\t},\n\t\t\t});\n            const response = await ax.get(\"http://localhost:8080/users/me\", {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            });\n            navigate('/editprofile');\n        }\n        catch {\n            console.log(\"could not change connected to true\");\n        }\n    }\n    useEffect(() => { redirectHome() } );\n\n\treturn (\n\t\t<div>\n\t\t</div>\n\t);\n};\n\nexport default Callback42;\n","/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/Profile/ProfilePage.tsx",[],[],"/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/Pong/PongPage.tsx",[],[],"/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/Chat/ChatPage.tsx",[],[],"/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/Online/OnlinePage.tsx",[],[],"/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/Tfa/TfaPage.tsx",[],[],"/home/benjamin/Documents/42/42_ft_transcendence/front/src/components/content.tsx",[],[],"/home/benjamin/Documents/42/42_ft_transcendence/front/src/components/header.tsx",[],[],"/home/benjamin/Documents/42/42_ft_transcendence/front/src/services/axios/axios.tsx",[],[],{"ruleId":"97","severity":1,"message":"98","line":38,"column":5,"nodeType":"99","endLine":38,"endColumn":12,"suggestions":"100"},{"ruleId":"101","severity":1,"message":"102","line":24,"column":19,"nodeType":"103","messageId":"104","endLine":24,"endColumn":27},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'reset'. Either include it or remove the dependency array.","ArrayExpression",["105"],"@typescript-eslint/no-unused-vars","'response' is assigned a value but never used.","Identifier","unusedVar",{"desc":"106","fix":"107"},"Update the dependencies array to be: [reset, token]",{"range":"108","text":"109"},[1306,1313],"[reset, token]"]