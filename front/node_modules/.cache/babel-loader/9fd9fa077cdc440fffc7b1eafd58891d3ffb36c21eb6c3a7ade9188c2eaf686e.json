{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UseFilters = void 0;\n/* eslint-disable @typescript-eslint/no-use-before-define */\nconst constants_1 = require(\"../../constants\");\nconst extend_metadata_util_1 = require(\"../../utils/extend-metadata.util\");\nconst shared_utils_1 = require(\"../../utils/shared.utils\");\nconst validate_each_util_1 = require(\"../../utils/validate-each.util\");\n/**\n * Decorator that binds exception filters to the scope of the controller or\n * method, depending on its context.\n *\n * When `@UseFilters` is used at the controller level, the filter will be\n * applied to every handler (method) in the controller.\n *\n * When `@UseFilters` is used at the individual handler level, the filter\n * will apply only to that specific method.\n *\n * @param filters exception filter instance or class, or a list of exception\n * filter instances or classes.\n *\n * @see [Exception filters](https://docs.nestjs.com/exception-filters)\n *\n * @usageNotes\n * Exception filters can also be set up globally for all controllers and routes\n * using `app.useGlobalFilters()`.  [See here for details](https://docs.nestjs.com/exception-filters#binding-filters)\n *\n * @publicApi\n */\nconst UseFilters = function () {\n  return addExceptionFiltersMetadata(...arguments);\n};\nexports.UseFilters = UseFilters;\nfunction addExceptionFiltersMetadata() {\n  for (var _len = arguments.length, filters = new Array(_len), _key = 0; _key < _len; _key++) {\n    filters[_key] = arguments[_key];\n  }\n  return (target, key, descriptor) => {\n    const isFilterValid = filter => filter && ((0, shared_utils_1.isFunction)(filter) || (0, shared_utils_1.isFunction)(filter.catch));\n    if (descriptor) {\n      (0, validate_each_util_1.validateEach)(target.constructor, filters, isFilterValid, '@UseFilters', 'filter');\n      (0, extend_metadata_util_1.extendArrayMetadata)(constants_1.EXCEPTION_FILTERS_METADATA, filters, descriptor.value);\n      return descriptor;\n    }\n    (0, validate_each_util_1.validateEach)(target, filters, isFilterValid, '@UseFilters', 'filter');\n    (0, extend_metadata_util_1.extendArrayMetadata)(constants_1.EXCEPTION_FILTERS_METADATA, filters, target);\n    return target;\n  };\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","UseFilters","constants_1","require","extend_metadata_util_1","shared_utils_1","validate_each_util_1","addExceptionFiltersMetadata","arguments","_len","length","filters","Array","_key","target","key","descriptor","isFilterValid","filter","isFunction","catch","validateEach","constructor","extendArrayMetadata","EXCEPTION_FILTERS_METADATA"],"sources":["/home/benjamin/Documents/42/42_ft_transcendence/front/node_modules/@nestjs/common/decorators/core/exception-filters.decorator.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UseFilters = void 0;\n/* eslint-disable @typescript-eslint/no-use-before-define */\nconst constants_1 = require(\"../../constants\");\nconst extend_metadata_util_1 = require(\"../../utils/extend-metadata.util\");\nconst shared_utils_1 = require(\"../../utils/shared.utils\");\nconst validate_each_util_1 = require(\"../../utils/validate-each.util\");\n/**\n * Decorator that binds exception filters to the scope of the controller or\n * method, depending on its context.\n *\n * When `@UseFilters` is used at the controller level, the filter will be\n * applied to every handler (method) in the controller.\n *\n * When `@UseFilters` is used at the individual handler level, the filter\n * will apply only to that specific method.\n *\n * @param filters exception filter instance or class, or a list of exception\n * filter instances or classes.\n *\n * @see [Exception filters](https://docs.nestjs.com/exception-filters)\n *\n * @usageNotes\n * Exception filters can also be set up globally for all controllers and routes\n * using `app.useGlobalFilters()`.  [See here for details](https://docs.nestjs.com/exception-filters#binding-filters)\n *\n * @publicApi\n */\nconst UseFilters = (...filters) => addExceptionFiltersMetadata(...filters);\nexports.UseFilters = UseFilters;\nfunction addExceptionFiltersMetadata(...filters) {\n    return (target, key, descriptor) => {\n        const isFilterValid = (filter) => filter &&\n            ((0, shared_utils_1.isFunction)(filter) || (0, shared_utils_1.isFunction)(filter.catch));\n        if (descriptor) {\n            (0, validate_each_util_1.validateEach)(target.constructor, filters, isFilterValid, '@UseFilters', 'filter');\n            (0, extend_metadata_util_1.extendArrayMetadata)(constants_1.EXCEPTION_FILTERS_METADATA, filters, descriptor.value);\n            return descriptor;\n        }\n        (0, validate_each_util_1.validateEach)(target, filters, isFilterValid, '@UseFilters', 'filter');\n        (0, extend_metadata_util_1.extendArrayMetadata)(constants_1.EXCEPTION_FILTERS_METADATA, filters, target);\n        return target;\n    };\n}\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,UAAU,GAAG,KAAK,CAAC;AAC3B;AACA,MAAMC,WAAW,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AAC9C,MAAMC,sBAAsB,GAAGD,OAAO,CAAC,kCAAkC,CAAC;AAC1E,MAAME,cAAc,GAAGF,OAAO,CAAC,0BAA0B,CAAC;AAC1D,MAAMG,oBAAoB,GAAGH,OAAO,CAAC,gCAAgC,CAAC;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMF,UAAU,GAAG,SAAAA,CAAA;EAAA,OAAgBM,2BAA2B,CAAC,GAAAC,SAAU,CAAC;AAAA;AAC1ET,OAAO,CAACE,UAAU,GAAGA,UAAU;AAC/B,SAASM,2BAA2BA,CAAA,EAAa;EAAA,SAAAE,IAAA,GAAAD,SAAA,CAAAE,MAAA,EAATC,OAAO,OAAAC,KAAA,CAAAH,IAAA,GAAAI,IAAA,MAAAA,IAAA,GAAAJ,IAAA,EAAAI,IAAA;IAAPF,OAAO,CAAAE,IAAA,IAAAL,SAAA,CAAAK,IAAA;EAAA;EAC3C,OAAO,CAACC,MAAM,EAAEC,GAAG,EAAEC,UAAU,KAAK;IAChC,MAAMC,aAAa,GAAIC,MAAM,IAAKA,MAAM,KACnC,CAAC,CAAC,EAAEb,cAAc,CAACc,UAAU,EAAED,MAAM,CAAC,IAAI,CAAC,CAAC,EAAEb,cAAc,CAACc,UAAU,EAAED,MAAM,CAACE,KAAK,CAAC,CAAC;IAC5F,IAAIJ,UAAU,EAAE;MACZ,CAAC,CAAC,EAAEV,oBAAoB,CAACe,YAAY,EAAEP,MAAM,CAACQ,WAAW,EAAEX,OAAO,EAAEM,aAAa,EAAE,aAAa,EAAE,QAAQ,CAAC;MAC3G,CAAC,CAAC,EAAEb,sBAAsB,CAACmB,mBAAmB,EAAErB,WAAW,CAACsB,0BAA0B,EAAEb,OAAO,EAAEK,UAAU,CAAChB,KAAK,CAAC;MAClH,OAAOgB,UAAU;IACrB;IACA,CAAC,CAAC,EAAEV,oBAAoB,CAACe,YAAY,EAAEP,MAAM,EAAEH,OAAO,EAAEM,aAAa,EAAE,aAAa,EAAE,QAAQ,CAAC;IAC/F,CAAC,CAAC,EAAEb,sBAAsB,CAACmB,mBAAmB,EAAErB,WAAW,CAACsB,0BAA0B,EAAEb,OAAO,EAAEG,MAAM,CAAC;IACxG,OAAOA,MAAM;EACjB,CAAC;AACL"},"metadata":{},"sourceType":"script","externalDependencies":[]}