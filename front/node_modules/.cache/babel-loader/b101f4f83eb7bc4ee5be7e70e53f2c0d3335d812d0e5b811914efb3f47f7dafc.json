{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nimport { io } from 'socket.io-client';\nconst useSocket = serverPath => {\n  _s();\n  const socketRef = useRef();\n  useEffect(() => {\n    socketRef.current = io(serverPath, {\n      autoConnect: false\n    });\n    return () => {\n      var _socketRef$current;\n      (_socketRef$current = socketRef.current) === null || _socketRef$current === void 0 ? void 0 : _socketRef$current.disconnect();\n    };\n  }, [serverPath]);\n  return socketRef.current;\n};\n_s(useSocket, \"8c0rAI93JE8jpOVTnobt43KkFfY=\");\nexport default useSocket;","map":{"version":3,"names":["useEffect","useRef","io","useSocket","serverPath","_s","socketRef","current","autoConnect","_socketRef$current","disconnect"],"sources":["/Users/lucas/42_ft_transcendence/front/src/scenes/Chat/PrivateMessageForm/useSocket.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport { io, Socket } from 'socket.io-client';\n\nconst useSocket = (serverPath: string): Socket | undefined =>\n{\n\tconst socketRef = useRef<Socket>();\n\n\tuseEffect(() =>\n\t{\n\t\tsocketRef.current = io(serverPath, {autoConnect: false});\n\t\t\n\t\treturn () =>\n\t\t{\n\t\t\tsocketRef.current?.disconnect();\n\t\t};\n\t}, [serverPath]);\n\n\treturn (socketRef.current);\n};\n\nexport default useSocket;"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzC,SAASC,EAAE,QAAgB,kBAAkB;AAE7C,MAAMC,SAAS,GAAIC,UAAkB,IACrC;EAAAC,EAAA;EACC,MAAMC,SAAS,GAAGL,MAAM,CAAS,CAAC;EAElCD,SAAS,CAAC,MACV;IACCM,SAAS,CAACC,OAAO,GAAGL,EAAE,CAACE,UAAU,EAAE;MAACI,WAAW,EAAE;IAAK,CAAC,CAAC;IAExD,OAAO,MACP;MAAA,IAAAC,kBAAA;MACC,CAAAA,kBAAA,GAAAH,SAAS,CAACC,OAAO,cAAAE,kBAAA,uBAAjBA,kBAAA,CAAmBC,UAAU,CAAC,CAAC;IAChC,CAAC;EACF,CAAC,EAAE,CAACN,UAAU,CAAC,CAAC;EAEhB,OAAQE,SAAS,CAACC,OAAO;AAC1B,CAAC;AAACF,EAAA,CAfIF,SAAS;AAiBf,eAAeA,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}