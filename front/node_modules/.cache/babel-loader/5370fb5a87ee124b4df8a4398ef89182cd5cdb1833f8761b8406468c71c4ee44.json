{"ast":null,"code":"var _jsxFileName = \"/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/EditProfile/EditProfilePage.tsx\",\n  _s = $RefreshSig$();\nimport Content from \"../../components/content\";\nimport Header from \"../../components/header\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { useEffect, useState } from \"react\";\nimport { ax } from '../../services/axios/axios';\n// import { GetUserInfos } from \"../../services/axios/getUsers\";\nimport \"./style/EditProfilePage.css\";\n// import { userInfo } from \"os\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditProfilePage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [userInfos, setUserInfos] = useState();\n  const token = localStorage.getItem(\"token\");\n  const {\n    register,\n    handleSubmit,\n    reset\n  } = useForm({\n    defaultValues: {\n      name: userInfos === null || userInfos === void 0 ? void 0 : userInfos.name,\n      email: userInfos === null || userInfos === void 0 ? void 0 : userInfos.email\n      // tfa: userInfos?.tfa || false\n    }\n  });\n\n  useEffect(() => {\n    const getUsers = async () => {\n      try {\n        const response = await ax.get(\"http://localhost:8080/users/me\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setUserInfos(response.data);\n        reset(response.data);\n        // console.log(\"DATA\", response.data);\n      } catch (error) {\n        console.error(\"Failed to fetch users.\");\n      }\n    };\n    getUsers();\n  }, [token, reset]);\n  const handleChanges = async userInput => {\n    if (userInput.name === '' && userInput.email === '') return;\n    try {\n      if (userInput.name !== '') {\n        await ax.patch('users', {\n          name: userInput.name\n        }, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n      }\n      const expression = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i;\n      const messageEmail = document.getElementById(\"messageEmail\");\n      if (userInput.email !== '') {\n        if (!expression.test(userInput.email)) {\n          if (messageEmail) messageEmail.textContent = \"Please enter a valid email\";\n        } else {\n          await ax.patch('users', {\n            email: userInput.email\n          }, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          if (messageEmail) messageEmail.textContent = \"\";\n        }\n      }\n      try {\n        await ax.patch('users', {\n          tfa: userInfos === null || userInfos === void 0 ? void 0 : userInfos.tfa\n        }, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n      } catch {\n        console.log(\"could not update tfa preferences\");\n      }\n      const message = document.getElementById(\"message\");\n      if (message) message.textContent = \"Profile updated\";\n      navigate('/profile');\n    } catch {\n      const message = document.getElementById(\"message\");\n      if (message) message.textContent = \"Name already taken\";\n    }\n  };\n  const handleAvatarChange = async event => {\n    if (!event.target.files) return;\n    const file = event.target.files[0];\n    const form = new FormData();\n    form.append(\"file\", file, file.name);\n    try {\n      await ax.post(\"users/avatar\", form, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n    } catch {\n      const messageAvatar = document.getElementById(\"messageAvatar\");\n      if (messageAvatar) messageAvatar.textContent = \"Could not upload avatar, please make sure an .jpg, .jpeg or .png file was used\";\n    }\n  };\n  const handleTfaChange = async () => {\n    if ((userInfos === null || userInfos === void 0 ? void 0 : userInfos.tfa) !== undefined) {\n      setUserInfos({\n        ...userInfos,\n        tfa: !(userInfos !== null && userInfos !== void 0 && userInfos.tfa)\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Content, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"editUserProfileContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"User profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Verify your information and update any available field as necessary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"editUserInformations\",\n          onSubmit: handleSubmit(handleChanges),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatarChange\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"editUserAvatar\",\n              src: '/avatar/' + (userInfos === null || userInfos === void 0 ? void 0 : userInfos.id) + '.png',\n              alt: \"avatar\",\n              onError: event => {\n                const target = event.target;\n                target.src = '/avatar/auto.png';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatarChangeButton\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"editUserInformationKey\",\n                children: \"Upload a new avatar:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                onChange: handleAvatarChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"messageAvatar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"editUserInformationKey\",\n            children: \"Enable two-factor authentication:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: userInfos === null || userInfos === void 0 ? void 0 : userInfos.tfa,\n            onChange: handleTfaChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"editUserInformationKey\",\n            children: \"Change your name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"editUserInformationKey\",\n            type: \"text\",\n            ...register(\"name\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"editUserInformationKey\",\n            children: \"Change your email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"editUserInformationKey\",\n            type: \"email\",\n            ...register(\"email\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"messageEmail\",\n            children: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            value: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 3\n  }, this);\n};\n_s(EditProfilePage, \"KtGA7PzrgQtqK72Y656YEu1CYUA=\", false, function () {\n  return [useNavigate, useForm];\n});\n_c = EditProfilePage;\nexport default EditProfilePage;\nvar _c;\n$RefreshReg$(_c, \"EditProfilePage\");","map":{"version":3,"names":["Content","Header","useNavigate","useForm","useEffect","useState","ax","jsxDEV","_jsxDEV","EditProfilePage","_s","navigate","userInfos","setUserInfos","token","localStorage","getItem","register","handleSubmit","reset","defaultValues","name","email","getUsers","response","get","headers","Authorization","data","error","console","handleChanges","userInput","patch","expression","messageEmail","document","getElementById","test","textContent","tfa","log","message","handleAvatarChange","event","target","files","file","form","FormData","append","post","messageAvatar","handleTfaChange","undefined","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","src","id","alt","onError","type","onChange","checked","value","_c","$RefreshReg$"],"sources":["/home/benjamin/Documents/42/42_ft_transcendence/front/src/scenes/EditProfile/EditProfilePage.tsx"],"sourcesContent":["import Content from \"../../components/content\"\nimport Header from \"../../components/header\"\nimport { useNavigate } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { ChangeEvent, useEffect, useState } from \"react\";\nimport { ax } from '../../services/axios/axios'\nimport { UserInfos } from \"../../services/interfaces/userInfos.interface\";\n// import { GetUserInfos } from \"../../services/axios/getUsers\";\nimport \"./style/EditProfilePage.css\";\n// import { userInfo } from \"os\";\n\n\nconst EditProfilePage = () => {\n\tconst navigate = useNavigate();\n\tconst [userInfos, setUserInfos] = useState<UserInfos | null>();\n\t\n\tconst token = localStorage.getItem(\"token\");\n\tconst { register, handleSubmit, reset } = useForm({defaultValues: {\tname: userInfos?.name, \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temail: userInfos?.email,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// tfa: userInfos?.tfa || false\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}});\n\tuseEffect(() => {\n\t\tconst getUsers = async () => {\n\t\t\ttry {\n\t\t\t\tconst response = await ax.get(\"http://localhost:8080/users/me\", {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tsetUserInfos(response.data);\n\t\t\t\treset(response.data);\n\t\t\t\t// console.log(\"DATA\", response.data);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to fetch users.\");\n\t\t\t}\n\t\t};\n\t\tgetUsers();\n\t}, [token, reset]);\n\n\tconst handleChanges = async (userInput: any) => {\n\t\tif (userInput.name === '' && userInput.email === '')\n\t\t\treturn ;\n\t\ttry {\n\t\t\tif (userInput.name !== '') {\n\t\t\t\tawait ax.patch('users', {\n\t\t\t\t\tname: userInput.name,\n\t\t\t\t}, {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${token}`\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst expression: RegExp = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i;\n\t\t\tconst messageEmail = document.getElementById(\"messageEmail\");\n\t\t\tif (userInput.email !== '') {\n\t\t\t\tif (!expression.test(userInput.email)) {\n\t\t\t\t\tif (messageEmail)\n\t\t\t\t\t\tmessageEmail.textContent = \"Please enter a valid email\";\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tawait ax.patch('users', {\n\t\t\t\t\t\temail: userInput.email,\n\t\t\t\t\t}, {\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tAuthorization: `Bearer ${token}`\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tif (messageEmail)\n\t\t\t\t\t\tmessageEmail.textContent = \"\";\n\t\t\t\t}\t\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tawait ax.patch('users', {\n\t\t\t\t\ttfa: userInfos?.tfa,\n\t\t\t\t}, {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${token}`\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tcatch {\n\t\t\t\tconsole.log(\"could not update tfa preferences\")\n\t\t\t}\n\n\t\t\tconst message = document.getElementById(\"message\");\n\t\t\tif (message)\n\t\t\t\tmessage.textContent = \"Profile updated\";\n\t\t\tnavigate('/profile');\n\t\t}\n\t\tcatch {\n\t\t\tconst message = document.getElementById(\"message\");\n\t\t\tif (message)\n\t\t\t\tmessage.textContent = \"Name already taken\";\n\t\t}\n\t};\n\n\tconst handleAvatarChange = async (event: ChangeEvent<HTMLInputElement>) => {\n\t\tif (!event.target.files)\n\t\t\treturn ;\n\t\tconst file = event.target.files[0];\n\t\tconst form = new FormData();\n\t\tform.append(\"file\", file, file.name);\n\t\ttry {\n\t\t\tawait ax.post(\"users/avatar\", form, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tcatch {\n\t\t\tconst messageAvatar = document.getElementById(\"messageAvatar\");\n\t\t\tif (messageAvatar)\n\t\t\t\tmessageAvatar.textContent = \"Could not upload avatar, please make sure an .jpg, .jpeg or .png file was used\";\n\t\t}\n\t}\n\n\tconst handleTfaChange = async () => {\n\t\tif (userInfos?.tfa !== undefined) {\n\t\t\tsetUserInfos({...userInfos,\n\t\t\t\ttfa: !userInfos?.tfa\n\t\t\t\t\n\t\t\t});\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Header />\n\t\t\t<Content>\n\t\t\t\t<div className=\"editUserProfileContainer\">\n\t\t\t\t\t<h1>User profile</h1>\n\t\t\t\t\t\t<h2>Verify your information and update any available field as necessary</h2>\n\t\t\t\t\t<form className=\"editUserInformations\" onSubmit={handleSubmit(handleChanges)}>\n\t\t\t\t\t\t<div className=\"avatarChange\">\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName=\"editUserAvatar\"\n\t\t\t\t\t\t\t\tsrc={'/avatar/' + userInfos?.id + '.png'}\n\t\t\t\t\t\t\t\talt=\"avatar\"\n\t\t\t\t\t\t\t\tonError={(event) => {\n\t\t\t\t\t\t\t\t\tconst target = event.target as HTMLImageElement;\n\t\t\t\t\t\t\t\t\ttarget.src = '/avatar/auto.png';\n\t\t\t\t\t\t\t\t  }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"avatarChangeButton\">\n\t\t\t\t\t\t\t\t<label className=\"editUserInformationKey\">Upload a new avatar:</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\t\t\tonChange={handleAvatarChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div id=\"messageAvatar\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<label className=\"editUserInformationKey\">Enable two-factor authentication:</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tchecked={userInfos?.tfa}\n\t\t\t\t\t\t\tonChange={handleTfaChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label className=\"editUserInformationKey\">Change your name:</label>\n\t\t\t\t\t\t<input className=\"editUserInformationKey\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t{...register(\"name\")}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label className=\"editUserInformationKey\">Change your email:</label>\n\t\t\t\t\t\t<input  className=\"editUserInformationKey\"\n\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t{...register(\"email\")}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<p id=\"messageEmail\"> </p>\n\t\t\t\t\t\t<button type=\"submit\" value=\"submit\" >Submit</button>\n\t\t\t\t\t\t<div id=\"message\"></div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</Content>\n\t\t</div>\n\t);\n};\n\nexport default EditProfilePage;\n"],"mappings":";;AAAA,OAAOA,OAAO,MAAM,0BAA0B;AAC9C,OAAOC,MAAM,MAAM,yBAAyB;AAC5C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,iBAAiB;AACzC,SAAsBC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACxD,SAASC,EAAE,QAAQ,4BAA4B;AAE/C;AACA,OAAO,6BAA6B;AACpC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAGA,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC7B,MAAMC,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAmB,CAAC;EAE9D,MAAMS,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAM;IAAEC,QAAQ;IAAEC,YAAY;IAAEC;EAAM,CAAC,GAAGhB,OAAO,CAAC;IAACiB,aAAa,EAAE;MAAEC,IAAI,EAAET,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAES,IAAI;MACxEC,KAAK,EAAEV,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEU;MAClB;IACM;EAAC,CAAC,CAAC;;EAC1BlB,SAAS,CAAC,MAAM;IACf,MAAMmB,QAAQ,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACH,MAAMC,QAAQ,GAAG,MAAMlB,EAAE,CAACmB,GAAG,CAAC,gCAAgC,EAAE;UAC/DC,OAAO,EAAE;YACRC,aAAa,EAAG,UAASb,KAAM;UAChC;QACD,CAAC,CAAC;QACFD,YAAY,CAACW,QAAQ,CAACI,IAAI,CAAC;QAC3BT,KAAK,CAACK,QAAQ,CAACI,IAAI,CAAC;QACpB;MACD,CAAC,CAAC,OAAOC,KAAK,EAAE;QACfC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAC;MACxC;IACD,CAAC;IACDN,QAAQ,CAAC,CAAC;EACX,CAAC,EAAE,CAACT,KAAK,EAAEK,KAAK,CAAC,CAAC;EAElB,MAAMY,aAAa,GAAG,MAAOC,SAAc,IAAK;IAC/C,IAAIA,SAAS,CAACX,IAAI,KAAK,EAAE,IAAIW,SAAS,CAACV,KAAK,KAAK,EAAE,EAClD;IACD,IAAI;MACH,IAAIU,SAAS,CAACX,IAAI,KAAK,EAAE,EAAE;QAC1B,MAAMf,EAAE,CAAC2B,KAAK,CAAC,OAAO,EAAE;UACvBZ,IAAI,EAAEW,SAAS,CAACX;QACjB,CAAC,EAAE;UACFK,OAAO,EAAE;YACRC,aAAa,EAAG,UAASb,KAAM;UAChC;QACD,CAAC,CAAC;MACH;MACA,MAAMoB,UAAkB,GAAG,0CAA0C;MACrE,MAAMC,YAAY,GAAGC,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC;MAC5D,IAAIL,SAAS,CAACV,KAAK,KAAK,EAAE,EAAE;QAC3B,IAAI,CAACY,UAAU,CAACI,IAAI,CAACN,SAAS,CAACV,KAAK,CAAC,EAAE;UACtC,IAAIa,YAAY,EACfA,YAAY,CAACI,WAAW,GAAG,4BAA4B;QACzD,CAAC,MACI;UACJ,MAAMjC,EAAE,CAAC2B,KAAK,CAAC,OAAO,EAAE;YACvBX,KAAK,EAAEU,SAAS,CAACV;UAClB,CAAC,EAAE;YACFI,OAAO,EAAE;cACRC,aAAa,EAAG,UAASb,KAAM;YAChC;UACD,CAAC,CAAC;UACF,IAAIqB,YAAY,EACfA,YAAY,CAACI,WAAW,GAAG,EAAE;QAC/B;MACD;MACA,IAAI;QACH,MAAMjC,EAAE,CAAC2B,KAAK,CAAC,OAAO,EAAE;UACvBO,GAAG,EAAE5B,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAE4B;QACjB,CAAC,EAAE;UACFd,OAAO,EAAE;YACRC,aAAa,EAAG,UAASb,KAAM;UAChC;QACD,CAAC,CAAC;MACH,CAAC,CACD,MAAM;QACLgB,OAAO,CAACW,GAAG,CAAC,kCAAkC,CAAC;MAChD;MAEA,MAAMC,OAAO,GAAGN,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC;MAClD,IAAIK,OAAO,EACVA,OAAO,CAACH,WAAW,GAAG,iBAAiB;MACxC5B,QAAQ,CAAC,UAAU,CAAC;IACrB,CAAC,CACD,MAAM;MACL,MAAM+B,OAAO,GAAGN,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC;MAClD,IAAIK,OAAO,EACVA,OAAO,CAACH,WAAW,GAAG,oBAAoB;IAC5C;EACD,CAAC;EAED,MAAMI,kBAAkB,GAAG,MAAOC,KAAoC,IAAK;IAC1E,IAAI,CAACA,KAAK,CAACC,MAAM,CAACC,KAAK,EACtB;IACD,MAAMC,IAAI,GAAGH,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAClC,MAAME,IAAI,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC3BD,IAAI,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,EAAEA,IAAI,CAAC1B,IAAI,CAAC;IACpC,IAAI;MACH,MAAMf,EAAE,CAAC6C,IAAI,CAAC,cAAc,EAAEH,IAAI,EAAE;QACnCtB,OAAO,EAAE;UACRC,aAAa,EAAG,UAASb,KAAM,EAAC;UAChC,cAAc,EAAE;QACjB;MACD,CAAC,CAAC;IACH,CAAC,CACD,MAAM;MACL,MAAMsC,aAAa,GAAGhB,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC;MAC9D,IAAIe,aAAa,EAChBA,aAAa,CAACb,WAAW,GAAG,gFAAgF;IAC9G;EACD,CAAC;EAED,MAAMc,eAAe,GAAG,MAAAA,CAAA,KAAY;IACnC,IAAI,CAAAzC,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAE4B,GAAG,MAAKc,SAAS,EAAE;MACjCzC,YAAY,CAAC;QAAC,GAAGD,SAAS;QACzB4B,GAAG,EAAE,EAAC5B,SAAS,aAATA,SAAS,eAATA,SAAS,CAAE4B,GAAG;MAErB,CAAC,CAAC;IACH;EACD,CAAC;EAED,oBACChC,OAAA;IAAA+C,QAAA,gBACC/C,OAAA,CAACP,MAAM;MAAAuD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACVnD,OAAA,CAACR,OAAO;MAAAuD,QAAA,eACP/C,OAAA;QAAKoD,SAAS,EAAC,0BAA0B;QAAAL,QAAA,gBACxC/C,OAAA;UAAA+C,QAAA,EAAI;QAAY;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACpBnD,OAAA;UAAA+C,QAAA,EAAI;QAAmE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC7EnD,OAAA;UAAMoD,SAAS,EAAC,sBAAsB;UAACC,QAAQ,EAAE3C,YAAY,CAACa,aAAa,CAAE;UAAAwB,QAAA,gBAC5E/C,OAAA;YAAKoD,SAAS,EAAC,cAAc;YAAAL,QAAA,gBAC5B/C,OAAA;cACCoD,SAAS,EAAC,gBAAgB;cAC1BE,GAAG,EAAE,UAAU,IAAGlD,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEmD,EAAE,IAAG,MAAO;cACzCC,GAAG,EAAC,QAAQ;cACZC,OAAO,EAAGrB,KAAK,IAAK;gBACnB,MAAMC,MAAM,GAAGD,KAAK,CAACC,MAA0B;gBAC/CA,MAAM,CAACiB,GAAG,GAAG,kBAAkB;cAC9B;YAAE;cAAAN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACHnD,OAAA;cAAKoD,SAAS,EAAC,oBAAoB;cAAAL,QAAA,gBAClC/C,OAAA;gBAAOoD,SAAS,EAAC,wBAAwB;gBAAAL,QAAA,EAAC;cAAoB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACtEnD,OAAA;gBACC0D,IAAI,EAAC,MAAM;gBACXC,QAAQ,EAAExB;cAAmB;gBAAAa,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5B,CAAC,eACHnD,OAAA;gBAAKuD,EAAE,EAAC;cAAe;gBAAAP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eACNnD,OAAA;YAAOoD,SAAS,EAAC,wBAAwB;YAAAL,QAAA,EAAC;UAAiC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACnFnD,OAAA;YACC0D,IAAI,EAAC,UAAU;YACfE,OAAO,EAAExD,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAE4B,GAAI;YACxB2B,QAAQ,EAAEd;UAAgB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1B,CAAC,eACFnD,OAAA;YAAOoD,SAAS,EAAC,wBAAwB;YAAAL,QAAA,EAAC;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACnEnD,OAAA;YAAOoD,SAAS,EAAC,wBAAwB;YACxCM,IAAI,EAAC,MAAM;YAAA,GACPjD,QAAQ,CAAC,MAAM;UAAC;YAAAuC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnB,CAAC,eACHnD,OAAA;YAAOoD,SAAS,EAAC,wBAAwB;YAAAL,QAAA,EAAC;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACpEnD,OAAA;YAAQoD,SAAS,EAAC,wBAAwB;YACzCM,IAAI,EAAC,OAAO;YAAA,GACRjD,QAAQ,CAAC,OAAO;UAAC;YAAAuC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrB,CAAC,eACFnD,OAAA;YAAGuD,EAAE,EAAC,cAAc;YAAAR,QAAA,EAAC;UAAC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC1BnD,OAAA;YAAQ0D,IAAI,EAAC,QAAQ;YAACG,KAAK,EAAC,QAAQ;YAAAd,QAAA,EAAE;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACrDnD,OAAA;YAAKuD,EAAE,EAAC;UAAS;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAER,CAAC;AAACjD,EAAA,CArKID,eAAe;EAAA,QACHP,WAAW,EAIcC,OAAO;AAAA;AAAAmE,EAAA,GAL5C7D,eAAe;AAuKrB,eAAeA,eAAe;AAAC,IAAA6D,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}